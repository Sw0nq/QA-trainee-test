# Тест-кейсы для API микросервиса объявлений

Тест-кейсы составлены на основе предоставленной Postman-коллекции и Swagger-документации.

**Тестируемые эндпоинты:**
*   `POST /api/1/item` — Создать объявление
*   `GET /api/1/item/{id}` — Получить объявление по ID
*   `GET /api/1/{sellerID}/item` — Получить все объявления продавца
*   `GET /api/2/statistic/{id}` — Получить статистику по ID объявления
*   `DELETE /api/2/item/{id}` — Удалить объявление по ID

---

### Сценарий 1: Позитивные проверки (Happy Path)

| ID      | Название                                                  | Шаги                                                                                                                                                                                                                                                                    | Ожидаемый результат                                                                                                                                                                                                                         |
|---------|-----------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| TC-001  | Успешное создание, получение, получение по продавцу, получение статистики и удаление объявления | 1. **Создать** объявление (POST `/api/1/item`) с валидными данными.<br>2. **Получить** созданное объявление по его `id` (GET `/api/1/item/{id}`).<br>3. **Получить** список объявлений по `sellerID` (GET `/api/1/{sellerID}/item`).<br>4. **Получить** статистику по `id` (GET `/api/2/statistic/{id}`).<br>5. **Удалить** объявление по `id` (DELETE `/api/2/item/{id}`).<br>6. **Повторно получить** удаленное объявление по `id` (GET `/api/1/item/{id}`). | 1. Код ответа 200. В теле ответа содержатся данные созданного объявления, включая сгенерированный `id`.<br>2. Код ответа 200. Данные в ответе (массив из одного элемента) соответствуют созданным на шаге 1.<br>3. Код ответа 200. В ответе есть массив, содержащий созданное объявление.<br>4. Код ответа 200. В ответе есть массив со статистикой, соответствующей созданной.<br>5. Код ответа 200.<br>6. Код ответа 404 Not Found. |

---

### Сценарий 2: Негативные проверки

| ID      | Название                                                  | Шаги                                                              | Ожидаемый результат     |
|---------|-----------------------------------------------------------|-------------------------------------------------------------------|-------------------------|
| **POST /api/1/item** |
| TC-002  | Создание объявления с неполными данными (без `name`)      | Отправить POST-запрос на `/api/1/item` без поля `name` в теле.    | Код ответа 400 Bad Request. |
| TC-003  | Создание объявления с некорректным типом данных (`price` как строка) | Отправить POST-запрос на `/api/1/item` с `"price": "дешево"`.     | Код ответа 400 Bad Request. |
| TC-004  | Создание объявления с пустым телом запроса                 | Отправить POST-запрос на `/api/1/item` с пустым JSON `{}`.         | Код ответа 400 Bad Request. |
| **GET /api/1/item/{id}** |
| TC-005  | Получение объявления по несуществующему `id`              | Отправить GET-запрос на `/api/1/item/{несуществующий_id}`.         | Код ответа 404 Not Found. |
| TC-006  | Получение объявления по невалидному `id` (не UUID)        | Отправить GET-запрос на `/api/1/item/123`.                          | Код ответа 400 Bad Request. |
| **GET /api/1/{sellerID}/item** |
| TC-007  | Получение объявлений несуществующего продавца             | Отправить GET-запрос на `/api/1/{несуществующий_sellerID}/item`.  | Код ответа 200. В теле ответа пустой массив `[]`. |
| **DELETE /api/2/item/{id}** |
| TC-008  | Удаление несуществующего объявления                       | Отправить DELETE-запрос на `/api/2/item/{несуществующий_id}`.     | Код ответа 404 Not Found. |
| TC-009  | Повторное удаление объявления                             | Дважды отправить DELETE-запрос на один и тот же `/api/2/item/{id}`. | Первый раз: код 200. Второй раз: код 404 Not Found. |
